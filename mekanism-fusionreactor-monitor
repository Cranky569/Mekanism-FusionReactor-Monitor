-- Peripherals
local mon     = peripheral.find("monitor")
local reactor = peripheral.find("fusionReactorLogicAdapter")

if not mon then error("Monitor not found!") end
if not reactor then error("Fusion Reactor Logic Adapter not found!") end

mon.setTextScale(1)
mon.clear()

local buffer = {}             -- Ringbuffer für Scroll
local maxLines = mon.getSize() -- Monitorhöhe

-- Funktion, Zeile zum Buffer hinzufügen und scrollen
local function addLine(text)
    table.insert(buffer, text)
    if #buffer > maxLines then
        table.remove(buffer, 1) -- entferne die älteste Zeile
    end
    mon.clear()
    for i,line in ipairs(buffer) do
        mon.setCursorPos(1,i)
        mon.write(line)
    end
end

-- Main loop
while true do
    -- Alle Methoden durchgehen
    for methodName,_ in pairs(reactor) do
        if methodName:sub(1,3) == "get" then
            local ok, result = pcall(function() return reactor[methodName]() end)
            local output
            if ok then
                output = methodName .. ": " .. textutils.serialize(result)
            else
                output = methodName .. ": Error"
            end
            addLine(output)
            sleep(0.1) -- kurz warten, damit Monitor scrollt flüssig
        end
    end
    sleep(2) -- Wiederholen alle 2 Sekunden
end
